# Daily-question
iOS Tips

每天更新iOS小知识，希望对大家有些帮助

1：倒计时

从服务器拿到倒计时秒数，eg：{“product”：“001”,“time”：“100000”}，{“product”：“002”,“time”：“200000”}，然后nstimer 每秒向这个数据里的每个商品时间-1，可见visiblecell 的显示时间控件重新赋值  参考：photos timer

2：数据存储

plist  nsuserdefault  nskeyedarchiver  sqlite3(FMDB)  core data (不建议使用单独使用，建议项目整体使用)

3：优购 筛选

不过就是多选问题而已。

4：webview 

iOS 8 之后建议使用wkwebview  

5: avfoundation 

这个框架好乱，要使用需要好多配置

6：关于网络

afnetworking 

7：图形  

qurze 2d   

8:animation

CAAnimation caani....

9:ios js

wkwebview

10:性能优化

如何发现性能问题
不同于一般的 bug，性能问题因为并没有统一的标准，而且与用户的机器环境相关性较大，所以往往是在产品上线后才被发现，也导致解决问题的周期很长。微信读书 1.3.0 版本之前，性能问题基本都来自于用户反馈（包括测试人员），受限于测试时间和用户反馈的积极性，性能问题往往到了比较严重的程度，开发人员才真正发现问题。

但是，移动应用要保证良好的用户体验，产品在性能方面的表现极其重要。为了尽可能早、尽可能全面地收集产品的性能问题，就避免不了对产品做性能监控。我们主要从两个维度进行了监控：

业务性能监控，是指在App本地，业务的开始和结束处打点上报，然后后台统计达到监控目的；

卡顿监控。卡顿监控的实现一般有两种方案：

（1）主线程卡顿监控。通过子线程监测主线程的 runLoop，判断两个状态区域之间的耗时是否达到一定阈值。具体原理和实现，这篇文章介绍得比较详细。

（2）FPS监控。要保持流畅的UI交互，App 刷新率应该当努力保持在 60fps。监控实现原理比较简单，通过记录两次刷新时间间隔，就可以计算出当前的 FPS。

性能问题的解决方法

1.优化业务流程

2.合理的线程分配

3.预处理和延时加载

4.缓存

5.使用正确的API
使用正确的 API，是指在满足业务的同时，能够选择性能更优的API。
选择合适的容器;
了解 imageNamed: 与 imageWithContentsOfFile:的差异(imageNamed: 适用于会重复加载的小图片，因为系统会自动缓存加载的图片，imageWithContentsOfFile: 仅加载图片)
缓存 NSDateFormatter 的结果。
寻找 (NSDate *)dateFromString:(NSString )string 的替换品

11：如何收集用户反馈的问题

与传统的网站应用类似，移动应用中获取用户反馈主要有两种方式：直接反馈和间接反馈。直接反馈，即通过提供调查表、弹出框等形式鼓励用户直接说出自己的想法。间接反馈则是基于用户的使用习惯，间接获取有价值的信息，比如分析界面跳转流程，页面停留时间，按钮的点击频率，用户留存、活跃周期等  蒲公英SDK
